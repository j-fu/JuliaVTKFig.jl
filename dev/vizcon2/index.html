<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>vizcon2 talk · VTKView.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>VTKView.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Home</a></li><li><a class="toctext" href="../changes/">Changes</a></li><li class="current"><a class="toctext" href>vizcon2 talk</a><ul class="internal"><li><a class="toctext" href="#Intro-1">Intro</a></li><li><a class="toctext" href="#My-secret-interest-in-visualization-1">My secret interest in visualization</a></li><li><a class="toctext" href="#Why-vtk-?-1">Why vtk ?</a></li><li><a class="toctext" href="#[VTK](https://vtk.org)-1">VTK</a></li><li><a class="toctext" href="#VTK-basic-structure-features-1">VTK basic structure + features</a></li><li><a class="toctext" href="#[vtkfig](https://github.com/j-fu/vtkfig)-aka-fixed-rendering-pipeline-VTK-viewer-1">vtkfig  aka fixed rendering pipeline VTK viewer</a></li><li><a class="toctext" href="#[VTKView.jl](https://github.com/j_fu/VTKView.jl)-1">VTKView.jl</a></li><li><a class="toctext" href="#Plans-1">Plans</a></li></ul></li><li><a class="toctext" href="../api/">API</a></li><li><a class="toctext" href="../examples/">Examples</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>vizcon2 talk</a></li></ul><a class="edit-page" href="https://github.com/j-fu/VTKView.jl"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>vizcon2 talk</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="vizcon2-talk-1" href="#vizcon2-talk-1">vizcon2 talk</a></h1><p>This is the  source (slightly modified to fit in here and with links added) of my talk given (online) at vizcon2 on March 15, 2020</p><ul><li><a href="https://www.youtube.com/channel/UClsxTd9t4dc3ATglOUub6Og/videos">vizcon2 talks</a></li><li><a href="https://www.youtube.com/watch?v=DmueA_Lvigs">this talk</a></li></ul><h2><a class="nav-anchor" id="Intro-1" href="#Intro-1">Intro</a></h2><p><strong>vizcon2: VTKView.jl – vtk based in-situ visualization  in Julia</strong></p><p><strong>Jürgen Fuhrmann</strong></p><p><strong>Weierstrass Institute  (WIAS) Berlin</strong></p><p><code>github.com/j_fu</code></p><h2><a class="nav-anchor" id="My-secret-interest-in-visualization-1" href="#My-secret-interest-in-visualization-1">My secret interest in visualization</a></h2><h3><a class="nav-anchor" id="Idea-1" href="#Idea-1">Idea</a></h3><ul><li><strong>Duty:</strong> Numerical Math, PDE based simulation algorithms, application projects</li><li><strong>Secret interest:</strong> in-situ visualization from within 1/2/3D unstructured grid PDE solvers<ul><li>Plot output during simulation run</li><li>Non-intrusive API so it can be added to any code</li><li>Utilization of GPU hardware</li></ul></li></ul><h3><a class="nav-anchor" id="History-1" href="#History-1">History</a></h3><ul><li>Did use some <a href="https://en.wikipedia.org/wiki/Graphical_Kernel_System">GKS</a> in the early times</li><li>Rolled my own: <a href="https://github.com/j-fu/gms">gms</a></li><li>Switched to OpenGL: <a href="https://github.com/j-fu/gltools">gltools</a><ul><li>Uses fixed function pipeline OpenGL standard</li><li><code>gltools2</code> with FLTK gui included in <a href="http://pdelib.org">WIAS simulation code</a>   (we think about making this available to Julia)</li></ul></li><li><a href="https://github.com/j-fu/vtkfig">vtkfig</a></li></ul><h2><a class="nav-anchor" id="Why-vtk-?-1" href="#Why-vtk-?-1">Why vtk ?</a></h2><ul><li><strong><a href="https://news.ycombinator.com/item?id=18841341">Fixed function  pipeline OpenGL deprecated</a></strong></li><li>Don&#39;t want to mess with shaders, Vulkan etc.</li><li>Very few  intermediate level interfaces for GPU graphics available  <ul><li><a href="https://threejs.org/">three.js</a> but this sits in the browser  </li><li>Josef Heinen&#39;s <a href="https://gr-framework.org/">gr</a>, but this also uses fixed function pipeline</li><li>Big chance for <a href="https://github.com/JuliaPlots/Makie.jl">Makie</a> also outside of Julia</li></ul></li><li><a href="https://vtk.org">VTK</a> provides high level primitives for grid data based visualization   So why not... ?</li></ul><h2><a class="nav-anchor" id="[VTK](https://vtk.org)-1" href="#[VTK](https://vtk.org)-1"><a href="https://vtk.org">VTK</a></a></h2><ul><li>Started in 1993</li><li>BSD license</li><li>Well maintained, reasonable evolution with legacy edges<ul><li>Modern OpenGL</li><li>hopefully Vulkan   (fresh  <a href="https://discourse.vtk.org/t/update-on-vulkan-support/2819">discourse thread</a> )   EDIT 2020-02-24: This seems to be on the way</li><li>smart pointers</li><li>C++11 features</li><li>First class citizen of CMake universe (both maintained by Kitware)</li></ul></li><li>Library behind Paraview, VisIt ...</li><li>used by US labs ==&gt; big  interest (IMHO) in keeping this going</li><li>==&gt; investment in learning appears to be  safe.</li></ul><h3><a class="nav-anchor" id="Some-cons-1" href="#Some-cons-1">Some cons</a></h3><ul><li>Lots of examples available, but steep learning curve nevertheless</li><li>Event loop based API hard to incorporate into simulation codes</li><li>Rather ugly plot attributes</li><li>It&#39;s <em>YUGE</em></li></ul><h2><a class="nav-anchor" id="VTK-basic-structure-features-1" href="#VTK-basic-structure-features-1">VTK basic structure + features</a></h2><ul><li>Fill <code>vtkDataSet</code> with grid, point scalars etc.   (more or less 1:1 mapping with VTK files)</li><li>Create rendering pipelines by chaining various filters to extract isolines, apply colors ...<ul><li>some similarity with Makie&#39;s <code>lift</code> </li><li>Paraview is the GUI for this</li></ul></li></ul><pre><code class="language-none">isoline_filter-&gt;SetInputConnection(transgeometry-&gt;GetOutputPort());</code></pre><ul><li>Create Actors which make things visible on the screen</li></ul><h2><a class="nav-anchor" id="[vtkfig](https://github.com/j-fu/vtkfig)-aka-fixed-rendering-pipeline-VTK-viewer-1" href="#[vtkfig](https://github.com/j-fu/vtkfig)-aka-fixed-rendering-pipeline-VTK-viewer-1"><a href="https://github.com/j-fu/vtkfig">vtkfig</a>  aka fixed rendering pipeline VTK viewer</a></h2><ul><li>Several fixed but configurable pipelines for standard visualization tasks<ul><li><code>vtkfig::Figure</code><ul><li><code>vtkfig::ScalarView</code></li><li><code>vtkfig::VectorView</code></li><li><code>vtkfig::GridView</code></li><li><code>vtkfig::XYPlot</code></li></ul></li></ul></li><li>Figures can be added to a <code>vtkfig::Frame</code></li><li>Event loop and rendering  in separate thread   At the cost of having all data copied ...</li><li>Interactivity inherited from vtk</li><li>File output: images, video, vtk </li><li>Duck typing based API for filling data structures   ==&gt; easy integration into C++ code</li><li>Memory management via  C++11 <code>std::shared_ptr</code> </li><li>Additional C API</li><li>Builds on Linux, MacOS, Unix Subsystem of Win10</li></ul><h2><a class="nav-anchor" id="[VTKView.jl](https://github.com/j_fu/VTKView.jl)-1" href="#[VTKView.jl](https://github.com/j_fu/VTKView.jl)-1"><a href="https://github.com/j_fu/VTKView.jl">VTKView.jl</a></a></h2><ul><li>Make <code>vtkfig</code> available from Julia</li><li>Integration via C API and <code>ccall</code></li><li>Attempt on a more &quot;julian&quot; API</li><li>No precompilation time ;-)</li></ul><h2><a class="nav-anchor" id="Plans-1" href="#Plans-1">Plans</a></h2><h3><a class="nav-anchor" id="vtkfig-1" href="#vtkfig-1"><code>vtkfig</code></a></h3><ul><li>One thread per frame in multiple frame case</li><li>No time for GUI...</li><li>Try out Paraview catalyst (send vtkDataset to Paraview)</li><li>Try out higher order elements (vtk has some stuff for this)</li></ul><h3><a class="nav-anchor" id="VTKView.jl-1" href="#VTKView.jl-1"><code>VTKView.jl</code></a></h3><ul><li>Map full API of vtkfig (still missing streamlines some state toggles)</li><li>jll <ul><li>builds with vtk-8.2.0 but only without cross compiling   jll works for linux-x86_64</li><li>vtk-9.0.0 seems to support cross compiling   need to learn how to export cross compilation tools to client codes ...</li></ul></li></ul><h4><a class="nav-anchor" id="Ideas-1" href="#Ideas-1">Ideas</a></h4><ul><li>Backend for plot recipes ?</li></ul><footer><hr/><a class="previous" href="../changes/"><span class="direction">Previous</span><span class="title">Changes</span></a><a class="next" href="../api/"><span class="direction">Next</span><span class="title">API</span></a></footer></article></body></html>
